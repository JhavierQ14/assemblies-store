<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>home</title>

   <link rel="stylesheet" href="https://unpkg.com/swiper@8/swiper-bundle.min.css" />

   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">

   <link rel="stylesheet" href="../css/style.css">
      <link rel="stylesheet" href="../css/pages/home.css">

</head>

<body>

   <header class="header">
      <div id="header"></div>
   </header>

   <section class="home">

      <div class="swiper home-slider">

         <div class="swiper-wrapper">

            <div class="swiper-slide slide">
               <div class="content">
                  <span class="animated-typing" data-typing="¡Arma tu PC hoy!"></span>
                  <h3 class="animated-typing" data-typing="Memorias RAM DDR5 en oferta"></h3>
                  <a href="store.html" class="btn">Ver productos</a>
               </div>
               <div class="image">
                  <img src="../images/image2.png" alt="Memoria RAM DDR5">
               </div>
            </div>

            <div class="swiper-slide slide">
               <div class="content">
                  <span class="animated-typing" data-typing="Potencia tu experiencia"></span>
                  <h3 class="animated-typing" data-typing="Procesadores Intel y AMD"></h3>
                  <a href="store.html" class="btn">Ver procesadores</a>
               </div>
               <div class="image">
                  <img src="../images/xeon-6-dcai-family-chip-imagery-dm_854-854.png" alt="Procesador moderno">
               </div>
            </div>

            <div class="swiper-slide slide">
               <div class="content">
                  <span class="animated-typing" data-typing="Gaming sin límites"></span>
                  <h3 class="animated-typing" data-typing="Tarjetas Gráficas de última Gen"></h3>
                  <a href="store.html" class="btn">Ver tarjetas gráficas</a>
               </div>
               <div class="image">
                  <img src="../images/image3,3.png" alt="Tarjeta gráfica RTX">
               </div>
            </div>

         </div>

         <div class="swiper-pagination"></div>

      </div>

   </section>

   <section class="category">

      <h1 class="title">Nuestras Marcas</h1>

      <div class="box-container">

         <a href="category.html" class="box">
            <img src="../assets/images/asus.jpg" alt="ASUS Logo">
            <h3>Asus</h3>
         </a>

         <a href="category.html" class="box">
            <img src="../assets/images/msi-logo_b.png" alt="MSI Logo">
            <h3>MSI</h3>
         </a>

         <a href="category.html" class="box">
            <img src="../assets/images/acer.svg" alt="ACER Logo">
            <h3>ACER</h3>
         </a>

         <a href="category.html" class="box">
            <img src="../assets/images/hp.png" alt="HP Logo">
            <h3>HP</h3>
         </a>

      </div>

   </section>

   <section class="products">

      <h1 class="title">Ultimos Ingresos</h1>

      <div class="box-container">
         <form accept="" method="post" class="box">
            <a href="quick_view.html" class="fas fa-eye"></a>
            <button class="fas fa-shopping-cart" type="submit" name="add_to_cart"></button>
            <img src="../images/corsair.png" alt="">
            <a href="category.html" class="cat">Memoria RAM DDR5</a>
            <div class="name">Corsair Vengeance 16GB 6000MHz</div>
            <div class="flex">
               <div class="price"><span>$</span>120<span>/-</span></div>
               <input type="number" name="qty" class="qty" min="1" max="99" value="1"
                  onkeypress="if(this.value.length == 2) return false;">
            </div>
         </form>
         <form accept="" method="post" class="box">
            <a href="quick_view.html" class="fas fa-eye"></a>
            <button class="fas fa-shopping-cart" type="submit" name="add_to_cart"></button>
            <img src="../images/intel i7.png" alt="">
            <a href="category.html" class="cat">Procesador</a>
            <div class="name">Intel Core i7-13700K</div>
            <div class="flex">
               <div class="price"><span>$</span>350<span>/-</span></div>
               <input type="number" name="qty" class="qty" min="1" max="99" value="1"
                  onkeypress="if(this.value.length == 2) return false;">
            </div>
         </form>
         <form accept="" method="post" class="box">
            <a href="quick_view.html" class="fas fa-eye"></a>
            <button class="fas fa-shopping-cart" type="submit" name="add_to_cart"></button>
            <img src="../images/600.png" alt="">
            <a href="category.html" class="cat">Tarjeta Gráfica</a>
            <div class="name">NVIDIA RTX 4070 Ti</div>
            <div class="flex">
               <div class="price"><span>$</span>900<span>/-</span></div>
               <input type="number" name="qty" class="qty" min="1" max="99" value="1"
                  onkeypress="if(this.value.length == 2) return false;">
            </div>
         </form>
         <form accept="" method="post" class="box">
            <a href="quick_view.html" class="fas fa-eye"></a>
            <button class="fas fa-shopping-cart" type="submit" name="add_to_cart"></button>
            <img src="../images/sansumg.png" alt="">
            <a href="category.html" class="cat">SSD</a>
            <div class="name">Samsung 980 PRO 1TB NVMe</div>
            <div class="flex">
               <div class="price"><span>$</span>110<span>/-</span></div>
               <input type="number" name="qty" class="qty" min="1" max="99" value="1"
                  onkeypress="if(this.value.length == 2) return false;">
            </div>
         </form>
         <form accept="" method="post" class="box">
            <a href="quick_view.html" class="fas fa-eye"></a>
            <button class="fas fa-shopping-cart" type="submit" name="add_to_cart"></button>
            <img src="../images/fuente de poder.png" alt="">
            <a href="category.html" class="cat">Fuente de Poder</a>
            <div class="name">EVGA 750W Gold Modular</div>
            <div class="flex">
               <div class="price"><span>$</span>95<span>/-</span></div>
               <input type="number" name="qty" class="qty" min="1" max="99" value="1"
                  onkeypress="if(this.value.length == 2) return false;">
            </div>
         </form>
         <form accept="" method="post" class="box">
            <a href="quick_view.html" class="fas fa-eye"></a>
            <button class="fas fa-shopping-cart" type="submit" name="add_to_cart"></button>
            <img src="../images/ROG PLACA MADRE.png" alt="">
            <a href="category.html" class="cat">Placa Madre</a>
            <div class="name">ASUS ROG STRIX Z790-E</div>
            <div class="flex">
               <div class="price"><span>$</span>420<span>/-</span></div>
               <input type="number" name="qty" class="qty" min="1" max="99" value="1"
                  onkeypress="if(this.value.length == 2) return false;">
            </div>
         </form>
      </div>

      <div class="more-btn">
         <a href="menu.html" class="btn">Ver más</a>
      </div>

   </section>

   <footer class="footer">
      <div id="footer"></div>
   </footer>

   <script src="https://unpkg.com/swiper@8/swiper-bundle.min.js"></script>
   <script src="../js/include-fragments.js"></script>
   <script src="../js/script.js"></script>
   <script src="../js/viewall.js"></script>
   <script src="../js/header-theme-toggle.js"></script>
   <script>
      // Animación de armado y retroceso de letras en los textos del slide activo
function animateTypingLoop(element, text, delay = 60, pause = 1200) {
  let charIndex = 0;
  let typing = true;
  let timeoutId;

  function type() {
    if (typing) {
      if (charIndex <= text.length) {
        element.textContent = text.substring(0, charIndex);
        charIndex++;
        timeoutId = setTimeout(type, delay);
      } else {
        typing = false;
        timeoutId = setTimeout(type, pause); // Pausa antes de borrar
      }
    } else {
      if (charIndex >= 0) {
        element.textContent = text.substring(0, charIndex);
        charIndex--;
        timeoutId = setTimeout(type, delay);
      } else {
        typing = true;
        timeoutId = setTimeout(type, pause / 2); // Pausa antes de volver a escribir
      }
    }
  }
  type();
  // Devuelve función para limpiar el ciclo
  return () => clearTimeout(timeoutId);
}

let cleanupTyping = [];
function resetAllTyping() {
  cleanupTyping.forEach(fn => fn && fn());
  cleanupTyping = [];
  document.querySelectorAll('.animated-typing').forEach(el => el.textContent = '');
}
function handleSlideChange(swiper) {
  resetAllTyping();
  const activeSlide = swiper.slides[swiper.activeIndex];
  const typingEls = activeSlide.querySelectorAll('.animated-typing');
  // Animar en secuencia: primero el span, luego el h3
  if (typingEls.length > 1) {
    let firstDone = false;
    function animateSecond() {
      cleanupTyping[1] = animateTypingLoop(typingEls[1], typingEls[1].getAttribute('data-typing'), 60, 1200);
    }
    cleanupTyping[0] = animateTypingLoop(typingEls[0], typingEls[0].getAttribute('data-typing'), 60, 1200);
    // Lanzar el segundo después de que el primero termine de escribir la primera vez
    let observer = new MutationObserver(() => {
      if (!firstDone && typingEls[0].textContent === typingEls[0].getAttribute('data-typing')) {
        firstDone = true;
        animateSecond();
        observer.disconnect();
      }
    });
    observer.observe(typingEls[0], { childList: true });
  } else if (typingEls.length === 1) {
    cleanupTyping[0] = animateTypingLoop(typingEls[0], typingEls[0].getAttribute('data-typing'), 60, 1200);
  }
}
document.addEventListener('DOMContentLoaded', function() {
  var swiper = new Swiper('.home-slider', {
    loop: true,
    grabCursor: true,
    effect: 'flip',
    pagination: {
      el: '.swiper-pagination',
      clickable: true,
    },
    on: {
      init: function() { handleSlideChange(this); },
      slideChange: function() { handleSlideChange(this); }
    }
  });
});
   </script>

</body>

</html>